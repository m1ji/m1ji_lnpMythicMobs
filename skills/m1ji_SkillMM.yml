# Conditions:
#  - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
#  - hasMana{a=>100} true
#  Skills:
#  - modifyMana{a=-10} @self

m1ji_CosmonicStraight_Use:
 Cooldown: 2
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_CosmonicStraight_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-10} @self
 - p{oT=[
      - e:p{c=#00bfff;a=4;hs=0.5;vs=0.5;audience=caster} @origin
      - e:p{c=#4682b4;a=4;hs=0.5;vs=0.5;audience=caster} @origin
      - e:p{c=#00ffff;a=4;hs=0.5;vs=0.5;audience=caster} @origin
      - e:p{c=#0000d2;a=8;audience=caster} @origin
      - e:p{p=firework;audience=caster} @origin
     ];
     oH=[
      - e:p{c=#191970;hs=0.5;vs=0.5;fromOrigin=true;audience=caster} @target  
      - e:p{c=#4169e1;hs=0.5;vs=0.5;fromOrigin=true;audience=caster} @target  
      - damage{a=5;pi=true;type=none}
      - e:p{p=flash;audience=caster} @origin
     ];
     oE=[
      - e:p{p=flash;audience=caster} @origin
      - damage{a=2;type=none} @EIR{r=3;ignore=players}
     ];
     d=2000;
     mr=30;
     v=18;
     i=1;
     hS=1.25;
     vS=1.25;
     hp=false;
     hnp=true
    } @TL

m1ji_Axelia_Use:
 Cooldown: 3
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_Axelia_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-20} @self
 - setvariable{var=caster.radius;type=FLOAT;value=3}
 - p{oT=[
     - e:p{p=flame;audience=caster} @origin
     - e:p{p=soul_fire_flame;fromOrigin=true;audience=caster} @forward{f=-20}
     ];
     oH=[
     - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
        - varmath{var=caster.radius;e="<caster.var.radius>-0.0515039"}
         ];
        oE=[
        - e:p{p=largeexplosion;audience=caster} @origin
        - damage{a=7;pi=true;type=none}
        - e:p{p=flash;audience=caster} @origin
         ];
        oS=[
        - potion{t=SLOW;d=60;l=200}
        - potion{t=JUMP;d=60;l=190}
            ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=75;
        r=3} @target
    - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
         ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=37;
        r=3} @target
    - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
         ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=0;
        r=3} @target
    - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
         ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=112;
        r=3} @target    
    ];
     i=1;
     v=15;
     mr=30;
     d=100;
     hp=false;
     hnp=true
    } @TL

# -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
#
#
#
#                                                    永遠シリーズ
#
#
#
# -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

m1ji_EternalBlessings_Use:
 Cooldown: 18
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_EternalBlessings_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-55} @self
 - p{oT=[
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=+0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=+0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=+0.15}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=-0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=-0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=-0.15}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=+0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=+0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=+0.15}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=-0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=-0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=-0.15}
     ];
     oE=[
     - skill{s=m1ji_EternalBlessings_UseField}
     ];
     i=1;
     d=60;
     v=7;
     mr=100;
     g=0.25;
     syo=1.5;
     hp=false;
     } @TL

m1ji_EternalBlessings_UseField:
 Skills:
 - setvariable{var=target.towa_usefield;val=0.00;type=FLOAT} @self
 - totem{oT=[
     - variableadd{var=target.towa_usefield;a=0.05} @self ?!varRange{var=caster.towa_usefield;val=>2.5}
     - e:pr{c=#EE82EE;size=0.35;r=<caster.var.towa_usefield>;points=200;audience=caster;a=1;fo=true}
     - p{oT=[
         - e:p{c=#AFEEEE;a=1;size=0.75;fo=true;audience=caster}
         ];
         oE=[
         - p{oT=[
             - e:p{c=#EE82EE;a=1;size=0.45;fo=true;audience=caster}
             ];
             oH=[
             - setvariable{var=3;type=FLOAT;value=2.5}
             - damage{a=3;pi=true;pkb=true;type=none}
             ];
             d=60;
             mr=40;
             vO=0.5;
             g=0.5;
             i=2;
             v=2;
             fo=true;
             hnp=true;
             hp=false;
             sE=false;
             hR=1.25;
             vR=1.25
             } @RLNTE{a=7;r=2.5;s=1.5}
         ];
         oH=[
         - setvariable{var=3;type=FLOAT;value=3.75}
         - damage{a=3;pi=true;pkb=true;type=none}
         ];
         md=100;
         v=3;
         i=2;
         fo=true;
         cd=1.25;
         hnp=true;
         hp=false;
         sE=false
         } @RLNTE{a=8;r=7;s=1} ?varRange{var=caster.towa_usefield;val=>2.5}
     - e:ps{c=#AFEEEE;m=ice;r=0.5;a=200;size=0.25;fo=true;audience=caster} @origin{yoffset=1.5}
     ];
     md=200;
     } @origin{yoffset=-0.75}

m1ji_EternalIcicle_Swing:
 Cooldown: 16
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_EternalIcicle_m1ji_} true
 - hasMana{a=>1} true
 - onground{} true
 Skills:
 - modifyMana{a=-55} @self
 - sound{s=block.enchantment_table.use;v=2;p=2} @EIR{r=10}
 - sound{s=block.enchantment_table.use;v=2;p=2} @self
 - totem{oT=[
     - e:pr{c=#72C6EF;points=100;a=1;r=10} @origin
     - e:p{c=#F0F8FF;hS=4;a=85;audience=caster} @origin
     - e:p{c=#F0F8FF;hS=4;a=15} @origin
     ];
     md=60;
     oS=m1ji_EternalIcicle_Swing_1;
     oE=[
     - damage{a=3;type=none;fo=true} @EIR{r=10;ignore=players}
     - sound{s=entity.evoker_fangs.attack;v=2;p=1.25;repeat=4;repeatInterval=1} @EIR{r=10}
     ];
     md=30
     } @selfLocation{y=-1}
     
m1ji_EternalIcicle_Swing_1:
 Skills:
 - delay 30
 - totem{oS=[
     - p{oT=[
         - e:p{p=endrod;audience=caster} @origin
         - e:p{p=snowflake;audience=caster} @origin
         ];
         vO=90;
         v=5;
         mr=1.5;
         d=100;
         syo=-1;
         hp=false;
         i=1;
         fo=true
         } @origin
     ];
     md=1
     } @RLNTE{a=30;r=9;s=1;minr=0}
 
m1ji_EternalIcicle_Shoot:
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_EternalIcicle_m1ji_} true
 Skills:
 - cancelEvent
 - p{oT=[
      - e:p{p=snowflake;audience=caster} @origin
      - e:p{p=crit;fo=true;audience=caster} @ProjectileForward{f=0.5}
      - modifyProjectile{trait=gravity;action=MULTIPLY;value=0.1}
     ];
     oH=[
      - damage{a=5;type=none;pi=true}    
     ];
     d=60;
     v=45;
     g=0.05;
     hp=false;
     hnp=true
     } @TL
 - skill{s=m1ji_EternalIcicle_Shoot1}

m1ji_EternalIcicle_Shoot1:
 Cooldown: 6
 Skills:
 - delay 5
 - p{oT=[
      - e:p{p=snowflake;audience=caster} @origin
      - e:p{p=crit;fo=true;audience=caster} @ProjectileForward{f=0.5}
      - modifyProjectile{trait=gravity;action=MULTIPLY;value=0.1}
     ];
     oH=[
      - damage{a=6;type=none;pi=true}    
     ];
     oS=[
      - sound{s=entity.arrow.shoot;v=1.5;p=1.535}
     ];
     d=60;
     v=45;
     g=0.05;
     hnp=true;
     hp=false;
     repeat=3;
     repeatInterval=5
     } @TL ?wearing{s=HAND;m=PvE_Weapon_EternalIcicle_m1ji_}


# -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
#
#
#
#                                                    誕生石シリーズ
#
#
#
# -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

m1ji_GenesisPearl_Swing:
 Cooldown: 12+(<caster.var.pearl_swingplus>*5)
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-100} @self
 - setVar{var=caster.pearl_swingplus;val=0}
 - setVar{var=caster.pearl_swingplus;val=1} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - totem{oT=[
     - e:pr{p=glow;r=4+<caster.var.pearl_swingplus|0>;pts=10;a=1} 
     - e:pr{p=glow;r=4+<caster.var.pearl_swingplus|0>;pts=50;a=1;cd=0.1;audience=caster} 
     - e:pr{p=electric_spark;r=1+<caster.var.pearl_swingplus>+(+<caster.var.pearl_swingplus>/2);a=5;hS=1.2;pts=15;audience=caster;cd=0.15} 
     - sound{s=block.note_block.chime;v=1.5;p=1.85}
    ];
    oE=[
     - sudoskill{s=m1ji_GenesisPearl_Leap} @ENO{r=4;ignore=players} ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:pr{p=poof;r=1;a=1;points=20;d=true;dr=true;dir=10,10,0;s=0.75} @origin ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - damage{a=4} @ENO{r=4+<caster.var.pearl_swingplus>;ignore=players}
     - sound{s=entity.wind_charge.wind_burst;v=1.5;p=1.3;repeat=2;repeatInterval=1} 
     - sound{s=entity.wind_charge.wind_burst;v=1.5;p=1.5}
     - skill{s=m1ji_GenesisPearl_plus}
    ];
    md=15;
    hp=false;
    hnp=false;
    } @Forward{f=3.5}

m1ji_GenesisPearl_plus:
 Conditions:
 - wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_} true
 Skills:
 - potion{t=SLOW;d=20;l=1} @ENR{r=4;ignore=players}
 - pull{v=6;to=true} @ENO{r=5;ignore=players}
 - e:ps{p=reddust;c=#4ee4ff;s=1;r=2;y=1.5;size=0.8;a=30;repeat=3;repeatInterval=2} 
 - e:lightning{delay=10} 
 - e:pr{p=poof;r=1;a=1;points=20;d=true;y=1;dr=true;dir=10,10,0;s=0.75;delay=7} 
 - damage{a=15;delay=10} @ENO{r=5;ignore=players} 
 - sudoskill{s=m1ji_GenesisPearl_Leap;repeat=1;repeatInterval=1;delay=10} @ENO{r=5;ignore=players} 

m1ji_GenesisPearl_Leap:
 Skills:
 - leap{v=-700} @trigger{y=-2}

m1ji_GenesisPearl_Use1:
 Conditions:
 - hasaura genesispearl_ct false
 - hasaura genesispearl_charge false
 - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
 - hasMana{a=>100} true
 Skills:
 - modifyMana{a=-100} @self
 - setVar{var=caster.genesispearl_useplus;val=0}
 - setVar{var=caster.genesispearl_useplus;val=3} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - setVar{var=caster.genesispearl;val=0;type=FLOAT} @self
 - aura{auraName=genesispearl_ct;d=160+(<caster.var.genesispearl_useplus>*20)} @self
 - aura{auraName=genesispearl_charge;oT=m1ji_GenesisPearl_Use_oT;oE=m1ji_GenesisPearl_Use_oE;d=8;i=1} @self

m1ji_GenesisPearl_Use2:
 Conditions:
 - hasaura genesispearl_charge true
 - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
 - varInRange{var=caster.genesispearl;val=>8.0} false
 Skills:
 - aura{auraName=genesispearl_charge;oT=m1ji_GenesisPearl_Use_oT;oE=m1ji_GenesisPearl_Use_oE;d=6;i=1} @self

m1ji_GenesisPearl_Use_oT:
 Skills:
 - setVar{var=caster.genesispearl;val=<caster.var.genesispearl|0>+0.4;type=FLOAT} @self
 - sound{s=block.amethyst_cluster.break;v=1.5;p=0.5+(<caster.var.genesispearl>/10)} @self
 - e:pr{p=electric_spark;r=<caster.var.genesispearl>;pts=50;audience=caster} @self 
 - e:pr{p=glow;r=<caster.var.genesispearl>;pts=25;audience=caster} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - skill{s=m1ji_GenesisPearl_Use_END} @self

m1ji_GenesisPearl_Use_END:
 Conditions:
 - varInRange{var=caster.genesispearl;val=>8.0} true
 Skills:
 - auraremove{aura=genesispearl_charge} @self

m1ji_GenesisPearl_Use_oE:
 Skills:
 - e:pr{p=electric_spark;r=<caster.var.genesispearl>*0.8;pts=40;a=1;audience=caster} @self
 - e:pr{p=poof;r=3;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=3} @origin
 - e:pr{p=poof;r=5;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=5} @origin
 - e:pr{p=poof;r=<caster.var.genesispearl>*0.8;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=7} @origin
 - pull{v=<caster.var.genesispearl>;to=true} @EIR{r=<caster.var.genesispearl>*0.8;ignore=players}
 - damage{a=<caster.var.genesispearl>*0.6} @EIR{r=<caster.var.genesispearl>*0.8;ignore=players}
 - skill{s=m1ji_GenesisPearl_Use_oEplus} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=entity.wind_charge.wind_burst;v=1.5;p=1.3;repeat=2;repeatInterval=1} 
 - sound{s=entity.wind_charge.wind_burst;v=1.5;p=1.5} 

m1ji_GenesisPearl_Use_oEplus:
 Conditions:
 - wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_} true
 Skills:
 - delay 10
 - sound{s=entity.wind_charge.wind_burst;v=1.5;p=1.3;repeat=2;repeatInterval=1} 
 - sound{s=entity.wind_charge.wind_burst;v=1.5;p=1.5} 
 - e:pr{p=poof;r=3;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=3} @origin
 - e:pr{p=poof;r=5;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=5} @origin
 - e:pr{p=poof;r=<caster.var.genesispearl>*0.8;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=7} @origin
 - pull{v=<caster.var.genesispearl>;to=true} @EIR{r=<caster.var.genesispearl>*0.8;ignore=players}
 - damage{a=<caster.var.genesispearl>*0.8} @EIR{r=<caster.var.genesispearl>*0.8;ignore=players}

# //////////////////////////////////////////////////////////////////////////////////////////////////////
# \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
# //////////////////////////////////////////////////////////////////////////////////////////////////////

m1ji_GenesisTopaz_Swing:
 Cooldown: 10
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisTopaz_m1ji_} true
 - hasMana{a=>100} true
 Skills:
 - modifyMana{a=-100} @self
 - sound{s=ambient.cave;v=2;p=1.5} @self
 - sound{s=ambient.nether_wastes.mood;v=2;p=0.75}
 - sound{s=entity.firework_rocket.launch;v=1.5;p=0.85} @self
 - aura{auraName=genesisTopazUsed;d=160}
 - aura{auraName=genesisTopazSilent;d=60} @self
 - p{oT=[
     - e:p{p=wax_on;mr=1;h=3;i=1;d=100;hS=0.2;vS=0.2;a=3;fo=true}
     - e:p{p=trial_spawner_detection;mr=1;h=3;i=1;d=100;hS=0.2;vS=0.2;a=1;fo=true}
     - e:pl{p=reddust;c=#e77933;size=0.5;a=1;audience=caster}
     - endprojectile{} ?hasaura{aura=genesistopaz}
    ];
    oE=[
     - skill{s=m1ji_GenesisTopaz_oE}
    ];
    v=5;
    hp=false;
    hnp=false;
    sb=true;
    md=160
    } @TL

m1ji_GenesisTopaz_Use:
 Conditions:
 - hasaura genesisTopazSilent false
 - hasaura genesisTopazUsed true
 Skills:
 - aura{auraName=genesistopaz;d=10} @self
 - sound{s=entity.generic.extinguish_fire;v=2;p=2} @self
 - sound{s=block.beacon.power_select;v=1.5;p=2} @self
 - sound{s=entity.illusioner.prepare_blindness;v=1.5;p=0.75}

m1ji_GenesisTopaz_oE:
 Skills:
 - leap{v=550;repeat=6;repeatInterval=1} @origin
 - pull{v=4;to=true;delay=8} @self
 - e:p{p=reddust;c=#f2a828;size=1.15;hS=0.5;vS=0.5;a=15;repeat=5;repeatInterval=2;audience=caster} @Line{r=1}
 - e:p{p=endrod;hS=0.5;vS=0.5;a=1} @Line{r=1}
 - damage{a=10;type=none} @EntitiesInLine{r=2.5;ignore=players}
 - sudoskill{s=m1ji_GenesisTopaz_oESudo} @EntitiesInLine{r=2.5;ignore=players}
 - delay 15
 - sound{s=entity.firework_rocket.large_blast;v=1.5;p=0.85} 
 - sound{s=item.trident.thunder;v=1.5;p=0.95}
 - e:p{p=gust_emitter_large;hs=2.5;a=6;audience=caster} @origin
 - e:p{p=angry_villager;hs=2.5;vS=0.5;a=40;audience=caster} @origin
 - damage{a=15;type=none} @ENO{r=3.5;ignore=players}
 - sudoskill{s=m1ji_GenesisTopaz_oESudo;repeat=2;repeatInterval=1} @ENO{r=3.5;ignore=players}

m1ji_GenesisTopaz_oESudo:
 Skills:
 - leap{v=-650} @trigger{y=-2}

# //////////////////////////////////////////////////////////////////////////////////////////////////////
# \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
# //////////////////////////////////////////////////////////////////////////////////////////////////////

m1ji_GenesisRuby_Attack:
 Cooldown: 5+(<caster.var.genesisruby_attackplus>*2)
 Conditions:
 - hasMana{a=>60} true
 Skills:
 - modifyMana{a=-60} @self
 - setVar{var=caster.genesisruby_attackplus;val=0;type=FLOAT}
 - setVar{var=caster.genesisruby_attackplus;val=0.5;type=FLOAT} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.amethyst_block.hit;v=2;p=0.2;repeat=5;repeatInterval=1}
 - sound{s=entity.lightning_bolt.thunder;v=0.75;p=0.66}
 - e:p{p=sweep_attack;repeat=3;repeatInterval=2;hS=0.5;vS=1.5;a=2}
 - damage{a=5;type=none} @target
 - damage{a=15;type=none} @target ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - ignite{} @target
 - leap{v=450} @target{y=-2}
 - aura{auraName=genesisruby<caster.name>;oT=GenesisRuby_Attack_oT;oE=GenesisRuby_Attack_oE;d=200} @target

GenesisRuby_Attack_oT:
 Skills:
 - e:pr{p=reddust;c=#7c2e3e;size=0.5;r=15+(<caster.var.genesisruby_attackplus>*3);a=1;pts=250;fo=true;audience=caster} @selfLocation{y=1}
 - e:pr{p=cherry_leaves;pts=200;r=15+(<caster.var.genesisruby_attackplus>*3);a=1;fo=true;y=<random.0to4>.<random.1to9>;cd=0.75;audience=caster}
 - e:pr{p=reddust;c=#4ee4ff;size=1;pts=150;r=15+(<caster.var.genesisruby_attackplus>*3);a=1;fo=true;y=<random.0to4>.<random.1to9>;cd=0.75} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:ps{p=reddust;c=#4ee4ff;size=1.5;r=2;y=2.5;a=50;cd=0.1} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:ps{p=reddust;c=#4ee4ff;size=0.5;r=2.5;y=2.5;a=20;hS=0.75;vS=0.75} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:ps{p=reddust;c=#cbba7d;size=0.5;r=2.5;y=2.5;a=20;hS=0.75;vS=0.75} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:ps{p=reddust;c=#7c2e3e;size=0.5;r=2.5;y=2.5;a=20;hS=0.75;vS=0.75} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}

GenesisRuby_Attack_oE:
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisRuby_m1ji_} true
 Skills:
 - aura{auraName=genesisruby_air;d=40} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:lightning{} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - stopsound{s=entity.lightning_bolt.thunder} @origin
 - sound{s=entity.generic.burn;v=1;p=1.5;repeat=3;repeaetInterval=3}
 - sound{s=entity.breeze.shoot;v=1;p=2}
 - jump{v=1+<caster.var.genesisruby_attackplus>} @origin
 - delay 10
 - sound{s=entity.egg.throw;v=2;p=0.5;repeat=1;repeatInterval=1} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.amethyst_block.hit;v=2;p=1.5;repeat=1;repeatInterval=1}
 - sound{s=block.amethyst_block.hit;v=2;p=1.45;delay=3;repeat=1;repeatInterval=1}
 - sound{s=block.amethyst_block.hit;v=2;p=1.4;delay=6;repeat=1;repeatInterval=1}
 - sound{s=block.amethyst_block.hit;v=2;p=1.35;delay=9;repeat=1;repeatInterval=1}
 - sound{s=block.amethyst_block.hit;v=2;p=1.3;delay=12;repeat=1;repeatInterval=1}
 - leap{v=250;repeat=6;repeatInterval=1;fo=true} @origin
 - sound{s=entity.firework_rocket.twinkle_far;v=1;p=0.88}
 - e:p{p=cherry_leaves;hS=0.5;vS=0.5;a=3;audience=caster} @Line{r=1}
 - e:p{p=reddust;c=#7c2e3e;size=0.<random.5to9>;hS=0.25;vS=0.25;a=10;repeat=5;repeatInterval=2;audience=caster} @Line{r=1}
 - damage{a=10;type=none} @EntitiesInLine{r=3;ignore=players}
 - damage{a=15;type=none}
 - damage{a=7;repeat=2;repeatInterval=3;type=none} @ENO{r=2.5;ignore=players} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:p{p=flash;repeat=1;repeatInterval=6}
 - e:p{p=sweep_attack;repeat=3;repeatInterval=3;delay=5;hS=0.5;vS=1.5}

m1ji_GenesisRuby_Use:
 Skills:
 - auraremove{aura=genesisruby<caster.name>} @EIR{r=15+(<caster.var.genesisruby_attackplus>*3)}

m1ji_GenesisRuby_airAttack:
 Cooldown: 1
 Conditions:
 - hasaura{aura=genesisruby_air} true
 - wearing{s=HAND;m=PvE_Weapon_GenesisRuby_m1ji_} true
 - onground{} false
 Skills:
 - auraremove{aura=genesisruby_air}
 - damage{a=30;type=none} @EIR{r=3;ignore=players}
 - e:p{p=sweep_attack;hS=1.5;vS=1.75;a=10;repeat=1;repeatInterval=3}
 - sound{s=entity.iron_golem.repair;v=1.5;p=2}
 - sound{s=entity.zombie.attack_iron_door;v=1.5;p=1.85}
 - sound{s=block.small_amethyst_bud.break ;v=2;p=1.55;repeat=3;repeatInterval=2} 
 - delay 10
 - sound{s=item.trident.thunder;v=1.5;p=2}
 - e:lightning{} @target 
 - damage{a=15;type=none} @target


# //////////////////////////////////////////////////////////////////////////////////////////////////////
# \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
# //////////////////////////////////////////////////////////////////////////////////////////////////////

m1ji_GenesisTourmaline_Use:
 Coooldown: 13+<caster.var.genesistourmaline_plus>
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisTourmaline_m1ji_} true
 - hasMana{a=>80} true
 - crouching{} true
 Skills:
 - modifyMana{a=-80} @self
 - aura{auraName=genesistourmaline_charge;d=56;oS=m1ji_GenesisTourmaline_oS;oT=m1ji_GenesisTourmaline_oT;oE=m1ji_GenesisTourmaline_oE;bt=true;
    bartimerdisplay="Tourmalineチャージ時間";bartimercolor=WHITE;bartimerstyle=SEGMENTED_10} @self
 
m1ji_GenesisTourmaline_oS:
 Skills:
 - setVar{var=caster.genesistourmaline_start_y;val=<caster.l.y>;type=FLOAT}
 - setVar{var=caster.genesistourmaline_tick_y;val=0;type=FLOAT}
 - setVar{var=caster.calc_tourmaline;val=0;type=FLOAT}
 - setVar{var=caster.genesistourmaline_plus;val=0}
 - setVar{var=caster.genesistourmaline_plus;val=2} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}

m1ji_GenesisTourmaline_oT:
 Skills:
 - e:pr{p=poof;r=2;a=1;points=20;d=true;dir=0,-10,0;s=0.2;cd=0.6;vS=0.5} @origin
 - potion{t=SLOW;d=3;l=4} @self
 - setVar{var=caster.genesistourmaline_tick_y;val=<caster.l.y>;type=FLOAT} ?varInRange{var=caster.genesistourmaline_tick_y;val=<<caster.l.y>}
 - sound{s=block.enchantment_table.use;cd=0.5;p=1.25}

m1ji_GenesisTourmaline_oE:
 Skills:
 - setVar{var=caster.calc_tourmaline;val=<caster.var.genesistourmaline_tick_y>-<caster.var.genesistourmaline_start_y>;type=FLOAT} @self
 - setVar{var=caster.calc_tourmaline;val=50} ?varInRange{var=caster.calc_tourmaline;val=>50}
 - aura{auraName=genesistourmaline_chargeend;d=200;oT=m1ji_GenesisTourmaline_oEoT;
        bt=true;bartimerdisplay="Tourmaline増加ダメージ<&co> <caster.var.calc_tourmaline>";bartimercolor=WHITE;bartimerstyle=SEGMENTED_10} @self

m1ji_GenesisTourmaline_oEoT:
 Skills:
 - e:pr{c=#d4ceff;r=0.35;points=35;size=0.25;cd=0.15;y=1}

m1ji_GenesisTourmaline_Swing:
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisTourmaline_m1ji_} true
 - hasaura genesistourmaline_chargeend true
 Skills:
 - auraremove{aura=genesistourmaline_chargeend}
 - damage{a=5+<caster.var.calc_tourmaline>;type=none} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players} ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - damage{a=10+(<caster.var.calc_tourmaline>*1.5);type=none} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - damage{a=5+(<caster.var.calc_tourmaline>*0.8);type=none;repeat=2;repeatInterval=2} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - damage{a=10+(<caster.var.calc_tourmaline>*0.8);delay=20} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:p{p=omposter;hS=1;vS=1.5;a=10;repeat=1;repeatInterval=3;audience=caster} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players}
 - e:p{p=sweep_attack;hS=1;vS=1.5;a=10;repeat=1;repeatInterval=3;audience=caster} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players}
 - e:p{p=glow;hS=1.5;vS=1;a=12;repeat=4;repeatInterval=3;audience=caster} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:p{p=reddust;c=#4ee4ff;hS=1;vS=1.5;a=15;repeat=4;repeatInterval=3;audience=caster} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:p{p=sweep_attack;hS=1.5;vS=1;a=20;repeat=3;repeatInterval=5}
 - e:p{p=flash;audience=caster} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players}
 - e:p{p=reddust;c=#4ee4ff;vS=2;a=30;repeat=4;repeatInterval=3;audience=caster} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - e:lightning{delay=20} @EIR{r=3+<caster.var.genesistourmaline_plus>;ignore=players} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=item.trident.thunder;p=2;v=1;delay=20}
 - sound{s=entity.evoker_fangs.attack;repeat=2;repeatInterval=4;p=1.2}

# //////////////////////////////////////////////////////////////////////////////////////////////////////
# \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
# //////////////////////////////////////////////////////////////////////////////////////////////////////

m1ji_GenesisAmethyst_Use:
 Cooldown: 2.5+<caster.var.genesisamethyst_ct>
 Conditions:
 - hasMana{a=>45} true
 Skills:
 - modifyManager{a=-45} @self
 - setVar{var=caster.genesisamethyst_ct;val=0} 
 - setVar{var=caster.genesisamethyst_ct;val=1} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.note_block.chime;v=2;p=1.57} @self
 - sound{s=block.note_block.chime;v=2;p=1.57} @self
 - sound{s=block.note_block.chime;v=2;p=1.42;delay=3} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.note_block.chime;v=2;p=1.29;delay=3} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.note_block.chime;v=2;p=1.25;delay=6} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.note_block.chime;v=2;p=1.21;delay=6} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.note_block.chime;v=2;p=1.14;delay=14} @self ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - p{oT=[
     - e:p{p=falling_dust;m=purpur_block;a=2} @origin
     - e:p{c=#956DAF;a=15;hS=0.45;vS=0.45;size=0.45} @origin
     ];
     oH=[
     - damage{a=15;ia=true}
     - damage{a=20;pi=true}
     ];
     v=25;
     i=1;
     hnp=true;
     hp=false;
     hR=2.5;
     vR=2.5;
     hto=true
     } @EIR{r=5;limit=5;sort=RANDOM} 
 - p{oT=[
     - e:p{p=falling_dust;m=purpur_block;a=2} @origin
     - e:p{c=#956DAF;a=15;hS=0.45;vS=0.45;size=0.45} @origin
     ];
     oH=[
     - damage{a=10;ia=true}
     - damage{a=20;pi=true}
     ];
     v=25;
     i=1;
     hR=2;
     vR=2;
     hnp=true;
     hp=false;
     hO=10
     } @TL
 - p{oT=[
     - e:p{p=falling_dust;m=purpur_block;a=2} @origin
     - e:p{c=#956DAF;a=15;hS=0.45;vS=0.45;size=0.45} @origin
     ];
     oH=[
     - damage{a=10;ia=true}
     - damage{a=20;pi=true}
     ];
     v=25;
     i=1;
     hR=2;
     vR=2;
     hnp=true;
     hp=false;
     hO=-10
     } @TL
     
m1ji_GenesisAmethyst_Swing:
 Cooldown: 8+(<caster.var.genesisamethyst_ct>*2)
 Conditions:
 - hasMana{a=>40} true
 Skills:
 - modifyManager{a=-40} @self
 - setVar{var=caster.genesisamethyst_ct;val=0} 
 - setVar{var=caster.genesisamethyst_ct;val=1} ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
 - sound{s=block.end_portal.spawn;p=1.35;v=2} @self
 - sound{s=block.amethyst_block.resonate;v=2;p=1.75;repeat=2;repeatInterval=2} @self
 - sound{s=block.amethyst_block.resonate;v=2;p=1.83;repeat=2;repeatInterval=2} @self
 - sound{s=block.amethyst_block.resonate;v=2;p=1.97;repeat=2;repeatInterval=2} @self
 - totem{oS=[
     - e:pr{c=#f6ecff;size=0.85;r=1.5;points=15;repeat=32;repeatInterval=2;a=1;hS=0.05} @origin
     - e:p{c=#f6ecff;size=0.85;repeat=32;repeatInterval=2;a=2;hS=0.65;a=35} @origin 
     - e:p{c=#f3e5ff;size=0.85;repeat=32;repeatInterval=2;a=2;hS=0.65;a=35} @origin ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:p{c=#8fe6ff;size=0.85;repeat=32;repeatInterval=2;a=2;hS=0.65;a=35} @origin ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     ];
     oE=[
     - e:p{hS=0.25;vS=1;c=#bc9ac0;size=1.45;a=10;repeat=16;repeatInterval=1;audience=caster} @origin
     - e:p{hS=0.3;vS=1.5;c=#a27ec0;size=1.3;a=10;repeat=30;repeatInterval=1} @origin 
     - e:p{hS=0.3;vS=1.5;c=#ff90f6;size=1.3;a=10;repeat=30;repeatInterval=1} @origin ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:p{hS=0.3;vS=1.5;c=#76fff7;size=1.3;a=10;repeat=16;repeatInterval=1} @origin ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:p{hS=0.3;vS=1.5;p=electric_spark;a=8;repeat=30;repeatInterval=1} @origin
     - damage{a=20+(<caster.var.genesisamethyst_ct>*2);repeat=1;repeatInterval=15;fo=true} @EntitiesNearOrigin{r=5;ignore=players}
     - damage{a=10+(<caster.var.genesisamethyst_ct>*2);repeat=1;repeatInterval=15;ia=true;fo=true} @EntitiesNearOrigin{r=5;ignore=players}
     - sound{s=entity.evoker.cast_spell;v=2;p=1.75;repeat=15;repeatInterval=2} @self
     - sound{s=entity.illusioner.prepare_mirror;p=2;repeat=30;repeatInterval=1;v=0.5} @self
     ]; 
     d=20;
     sB=false;
     } @RLNTE{a=2+(<caster.var.genesisamethyst_ct>*2);r=6;s=2;minr=2}
 - totem{oS=[
     - e:pr{c=#f6ecff;size=0.85;r=1.5;points=15;repeat=32;repeatInterval=2;a=1;hS=0.05} @origin
     - e:p{c=#f6ecff;size=0.85;repeat=32;repeatInterval=2;a=2;hS=0.65;a=35} @origin
     - e:p{c=#f3e5ff;size=0.85;repeat=32;repeatInterval=2;a=2;hS=0.65;a=35} @origin ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:p{c=#8fe6ff;size=0.85;repeat=32;repeatInterval=2;a=2;hS=0.65;a=35} @origin ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - potion{t=SLOW;d=20;l=3;fo=true} @EntitiesNearOrigin{r=3.5;ignore=players}
     ];
     oE=[
     - e:p{hS=0.25;vS=1;c=#bc9ac0;size=1.45;a=10;repeat=16;repeatInterval=1;audience=caster} @origin
     - e:p{hS=0.3;vS=1.5;c=#a27ec0;size=1.3;a=10;repeat=16;repeatInterval=1} @origin 
     - e:p{hS=0.3;vS=1.5;c=#ff90f6;size=1.3;a=10;repeat=16;repeatInterval=1} @origin ?!wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:p{hS=0.3;vS=1.5;c=#76fff7;size=1.3;a=10;repeat=16;repeatInterval=1} @origin ?wearing{s=OFFHAND;m=PvE_Weapon_GenesisDiamond_m1ji_}
     - e:p{hS=0.3;vS=1.5;p=electric_spark;a=8;repeat=30;repeatInterval=1} @origin
     - damage{a=7+(<caster.var.genesisamethyst_ct>*2);repeat=1;repeatInterval=15;fo=true} @EntitiesNearOrigin{r=5;ignore=players;limit=2}
     - damage{a=4+(<caster.var.genesisamethyst_ct>*2);repeat=1;repeatInterval=15;ia=true;fo=true} @EntitiesNearOrigin{r=5;ignore=players;limit=2}
     ];
     d=20;
     sB=false
     } @EIR{r=7.5;ignore=players;limit=2+<caster.var.genesisamethyst_ct>}

# //////////////////////////////////////////////////////////////////////////////////////////////////////
# \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
# //////////////////////////////////////////////////////////////////////////////////////////////////////

m1ji_GenesisAquamarine_Use:
 Cooldown: 10
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisAquamarine_m1ji_} true
 Skills:
 - setvariable{var=caster.ice_field_ct;val=160;type=INTEGER} @self
 - aura{auraName=<caster.var.ice_field_ct>}
 - setvariable{var=caster.genesisaqua2_x;value=<caster.l.x.double>;type=FLOAT} @self
 - setvariable{var=caster.genesisaqua2_z;value=<caster.l.z.double>;type=FLOAT} @self
 - setvariable{var=skill.ice_ensyutu;value=-3;type=FLOAT} @self
 - variableadd{var=skill.ice_ensyutu;amount=0.15;repeat=90;repeatInterval=1}
 - potion{t=SLOW;d=20;l=2} @self
 - totem{oE=[
         - totem{oT=GenesisAquamarine_UseTotem;d=<caster.var.ice_field_ct>} @origin{y=-1.25}
         - aura{auraname=genesisaqua2;oT=GenesisAquamarine_Use2;d=160;i=1} @self
         ];
         md=50;
         sB=false;
         sE=false;
         hp=false;
         hnp=false
         } @selfLocation{y=0.5}
 - p{oT=[
     - e:p{p=snowflake} @origin
     ];
     oE=[
     - totem{oT=[
         - e:pr{c=#2ECCFA;r=<skill.var.ice_ensyutu>;a=1;points=30;fo=true;cd=0.05} @origin
         - e:pr{p=snowflake;r=<skill.var.ice_ensyutu>;a=1;points=30;fo=true;cd=0.05;audience=caster} @origin
         - e:pr{c=#2ECCFA;r=<skill.var.ice_ensyutu>;a=1;points=50;fo=true;cd=0.05;audience=caster} @origin
         - e:pr{p=snowflake;r=<skill.var.ice_ensyutu>;a=1;points=50;fo=true;cd=0.05;audience=caster} @origin
         ];
         d=30;
         fo=true
         } @origin
     ];
     v=10;
     d=30;
     mr=10;
     vO=90;
     sB=false;
     sE=false
     }
 - delay 211
  
GenesisAquamarine_Use2:
  Skills:
  - setvariable{var=caster.genesisaqua2_1x;value=(<caster.var.genesisaqua2_x>-<caster.l.x>)*(<caster.var.genesisaqua2_x>-<caster.l.x>);type=FLOAT} @self
  - setvariable{var=caster.genesisaqua2_1z;value=(<caster.var.genesisaqua2_z>-<caster.l.z>)*(<caster.var.genesisaqua2_z>-<caster.l.z>);type=FLOAT} @self
  - setvariable{var=caster.genesisaqua2_1;value=<caster.var.genesisaqua2_1x>+<caster.var.genesisaqua2_1z>;type=FLOAT} @self
  - skill{s=GenesisAquamarine_Use3} @self
  
GenesisAquamarine_Use3:
  Conditions:
  - variableInRange{var=caster.genesisaqua2_1;value=<65} true
  Skills:
  - heal{a=(<caster.mhp>/20+2);cd=1.5} @self
  - potion{t=SPEED;d=10;l=1} @self

GenesisAquamarine_UseTotem:
 Skills:
# - potion{t=SLOW;d=10;l=1} @EntitiesNearOrigin{r=7.5}
 - e:pr{p=snowflake;hS=2;vS=5;r=5.7;cd=1.5;audience=caster} @origin 
 - e:pr{p=snowflake;hS=2;vS=5;r=5.7;cd=0.3;audience=caster} @origin 
 - e:pr{c=#7401DF;r=7.5;points=75;cd=1;audience=caster} @origin
 - e:pr{c=#2ECCFA;r=7.5;points=150;cd=1;audience=caster} @origin
 - freeze{ticks=200;cd=1.25} @EntitiesNearOrigin{r=7.5;ignore=players}
# -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
#
#
#
#                                                    その他雑多
#
#
#
# -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

cl6_ShootItNowSwing:
 Cooldown: 4.5
 Conditions:
 - hasaura cl6_ShootItNow false
 Skills:
 - sound{s=entity.firework_rocket.launch;v=2;p=1}
 - p{oS=[
      - modifyProjectile{trait=VELOCITY;action=SET;value=1.46;delay=15}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      oT=[
      - e:pr{r=3.5;points=6;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=3.5;points=6;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45} @origin
      - e:pr{r=3;y=0.75;points=5;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=3;y=0.75;points=5;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45} @origin
      - e:pr{r=2.5;points=4;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=2.5;points=4;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45} @origin
      - e:pr{r=2;points=3;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=2;points=3;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45} @origin
      - e:pr{r=2;points=3;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=2;points=3;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45} @origin
      - e:pr{r=3.15;y=-0.75;points=5;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=3.15;y=-0.75;points=5;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45} @origin
      - e:pr{r=1.65;y=1.3;points=6;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=1.65;y=1.3;points=6;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45;audience=caster} @origin
      - e:pr{r=1.65;y=-1.3;points=6;p=instant_effect;a=3;audience=caster} @origin
      - e:pr{r=1.65;y=-1.3;points=6;c=#f0f8ff;hS=0.05;vS=0.05;size=0.45;audience=caster} @origin
      ];
      oH=[
      - damage{a=90;ia=true}
      - damage{a=25;repeat=2;repeatInterval=5}
      - ignite{d=400}
      - e:p{p=sweep_attack;y=0.75}
      ];
      i=1;
      v=3;
      mr=15;
      d=300;
      vR=3.5;
      hR=3.5;
      sE=false;
      sB=true;
      hnp=true;
      hp=false
      } @TL

cl6_ShootItNowUse:
 Cooldown: 0.85
 Conditions:
 - crouching false
 Skills:
 - skill{s=cl6_ShootItNowUseC}
 - skill{s=cl6_ShootItNowUseB}
 - skill{s=cl6_ShootItNowUseA}
 - aura{auraName=cl6_ShootItNow;d=5} @self

cl6_ShootItNowUseA:
 Conditions:
 - hasaura cl6_ShootItNow false
 - hasaura cl6_ShootItNowUseA false
 - hasaura cl6_ShootItNowUseB false
 - hasaura cl6_ShootItNowUseC false
 Skills:
 - sound{s=entity.firework_rocket.launch;v=2;p=1}
 - aura{auraName=cl6_ShootItNowUseA;d=25} @self
 - p{oT=[
      - e:pr{p=instant_effect;a=1;r=1.2;points=3} @origin
      - e:pr{p=instant_effect;a=1;r=0.35;points=4;y=0.15;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;r=0.35;points=4;y=-0.15;audience=caster} @origin
      ];
      oH=[
      - damage{a=15;ia=true}
      - damage{a=5;repeat=2;repeatInterval=3}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      i=1;
      v=18;
      mr=20;
      d=200;
      hR=1.5;
      vR=1.5;
      hnp=true;
      hp=false
      } @TL

cl6_ShootItNowUseB:
 Conditions:
 - hasaura cl6_ShootItNow false
 - hasaura cl6_ShootItNowUseA true
 - hasaura cl6_ShootItNowUseB false
 - hasaura cl6_ShootItNowUseC false
 Skills:
 - sound{s=entity.firework_rocket.launch;v=2;p=1.25}
 - auraremove{n=cl6_ShootItNowUseA} @self
 - aura{auraName=cl6_ShootItNowUseB;d=25} @self
 - p{oT=[
      - e:pr{p=instant_effect;a=1;r=1.2;points=3} @origin
      - e:pr{p=instant_effect;a=1;r=0.35;points=4;y=0.15;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;r=0.35;points=4;y=-0.15;audience=caster} @origin
      ];
      oH=[
      - damage{a=20;ia=true}
      - damage{a=5;repeat=2;repeatInterval=3}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      i=1;
      v=18;
      mr=20;
      d=200;
      hR=1.5;
      vR=1.5;
      hO=-15;
      hnp=true;
      hp=false
      } @TL
 - p{oT=[
      - e:pr{p=instant_effect;a=1;r=1.2;points=3} @origin
      - e:pr{p=instant_effect;a=1;r=0.35;points=4;y=0.15;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;r=0.35;points=4;y=-0.15;audience=caster} @origin
      ];
      oH=[
      - damage{a=20;ia=true}
      - damage{a=5;repeat=2;repeatInterval=3}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      i=1;
      v=18;
      mr=20;
      d=200;
      hR=1.5;
      vR=1.5;
      hO=15;
      hnp=true;
      hp=false
      } @TL

cl6_ShootItNowUseC:
 Conditions:
 - hasaura cl6_ShootItNow false
 - hasaura cl6_ShootItNowUseA false
 - hasaura cl6_ShootItNowUseB true
 - hasaura cl6_ShootItNowUseC false
 Skills:
 - sound{s=entity.firework_rocket.launch;v=2;p=1.5}
 - auraremove{n=cl6_ShootItNowUseB} @self
 - aura{auraName=cl6_ShootItNowUseC;d=90} @self
 - p{oT=[
      - e:pr{p=firework;a=1;r=1.2;points=3} @origin
      - e:pr{p=firework;a=1;r=0.35;points=4;y=0.15;audience=caster} @origin
      - e:pr{p=firework;a=1;r=0.35;points=4;y=-0.15;audience=caster} @origin
      ];
      oH=[
      - damage{a=30;ia=true}
      - damage{a=5;repeat=2;repeatInterval=3}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      i=1;
      v=18;
      mr=20;
      d=200;
      hR=2.5;
      vR=2.5;
      hnp=true;
      hp=false
      } @TL
 - p{oT=[
      - e:pr{p=firework;a=1;r=1.2;points=3} @origin
      - e:pr{p=firework;a=1;r=0.35;points=4;y=0.15;audience=caster} @origin
      - e:pr{p=firework;a=1;r=0.35;points=4;y=-0.15;audience=caster} @origin
      ];
      oH=[
      - damage{a=25;ia=true}
      - damage{a=7;repeat=2;repeatInterval=3}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      i=1;
      v=18;
      mr=20;
      d=200;
      hR=2.5;
      vR=2.5;
      hO=12;
      hnp=true;
      hp=false
      } @TL
 - p{oT=[
      - e:pr{p=firework;a=1;r=1.2;points=3} @origin
      - e:pr{p=firework;a=1;r=0.35;points=4;y=0.15;audience=caster} @origin
      - e:pr{p=firework;a=1;r=0.35;points=4;y=-0.15;audience=caster} @origin
      ];
      oH=[
      - damage{a=25;ia=true}
      - damage{a=7;repeat=2;repeatInterval=3}
      - sound{s=entity.firework_rocket.blast;v=2;p=1;delay=15}
      ];
      i=1;
      v=18;
      mr=20;
      d=200;
      hR=2.5;
      vR=2.5;
      hO=-12;
      hnp=true;
      hp=false
      } @TL

cl6_ShootItNowShiftUse:
 Conditions:
 - crouching true
 Skills:
 - skill{s=cl6_ShootItNowShiftUseNotSet} @self
 - skill{s=cl6_ShootItNowShiftUseB}
 - aura{auraName=ShootItNowShiftUse;oT=ShootItNowShiftUseAuraOnTick;d=10} @self
 - skill{s=cl6_ShootItNowShiftUseA}

cl6_ShootItNowShiftUseNotSet:
 Conditions:
 - varIsSet{var=caster.shootitnow} false
 Skills:
 - setVariable{var=caster.shootitnow;val=0;type=FLOAT} @self

cl6_ShootItNowShiftUseA:
 Conditions:
 - hasaura ShootItNowShiftUse true
 - hasaura ShootItNowShiftUseSilent false
 - varInRange{var=caster.shootitnow;val=<100} true
 Skills:
 - sound{s=block.enchantment_table.use;p=2;v=0.5} @self
 - setVariable{var=caster.shootitnow;val=(<caster.var.shootitnow>+2.5);type=FLOAT} @self
 - actionmessage{m="&b&lチャージ量&8<&co> &f&l<caster.var.shootitnow|0>"} @self

ShootItNowShiftUseAuraOnTick:
 Skills:
 - potion{t=speed;d=5;l=4} @self
 
cl6_ShootItNowShiftUseB:
 Conditions:
 - hasaura ShootItNowShiftUse false
 - hasaura ShootItNowShiftUseSilent false
 - varInRange{var=caster.shootitnow;val=>1} true
 Skills:
 - sound{s=entity.firework_rocket.blast;v=2} @self
 - sound{s=entity.firework_rocket.twinkle_far;v=2} @self
 - sound{s=entity.firework_rocket.large_blast_far;v=2} @self
 - aura{auraName=ShootItNowShiftUseSilent;d=160} @self
 - setVariable{var=skill.shootitnow_damage;val=<caster.var.shootitnow>;type=FLOAT}  
 - p{oT=[
      - e:pr{p=instant_effect;a=1;points=7;r=2.25;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;points=4;r=1.35;y=0.75;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;points=4;r=1.35;y=-0.75;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;points=5;r=1.85;y=1.35;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;points=5;r=1.85;y=-1.35;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;points=3;r=0.75;y=1;audience=caster} @origin
      - e:pr{p=instant_effect;a=1;points=3;r=0.75;y=-1;audience=caster} @origin
      - e:p{p=enchant;a=30;hS=2.1;vS=2.1;audience=caster} @origin
      - e:p{p=enchanted_hit;a=25;hS=2.35;vS=2.35;audience=caster} @origin
      - e:p{p=nautilus;a=2;hS=1.35;vS=1.35;audience=caster} @origin
      ];
      oH=[
      - damage{a=<skill.var.shootitnow_damage> * 2;ia=true}
      ];
      i=1;
      v=16;
      mr=30;
      d=200;
      hnp=true;
      hp=false
      vR=2.25;
      hR=2.25;
      sE=false
      } @TL
 - setVariable{var=caster.shootitnow;val=0;type=FLOAT} @self